---
import { AccordionContainer } from './components'
import { AccordionItem, type IAccordionItem } from './components'

export type AccordionCard = Pick<IAccordionItem, 'title' | 'body'>

export interface Props {
  cards?: AccordionCard[]
  class?: string
}

const { cards = [], class: className } = Astro.props
---

<AccordionContainer
  id='accordion'
  class={className}>
  {
    cards.map(({ body, title }, index) => (
      <AccordionItem
        title={title}
        body={body}
        name={String(index)}
        expanded={index === 0}
      />
    ))
  }
</AccordionContainer>

<script src='./libs/accordion.ts'></script>
